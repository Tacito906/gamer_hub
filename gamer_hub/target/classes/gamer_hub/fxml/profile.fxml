<?xml version="1.0" encoding="UTF-8"?>

<?import javafx.geometry.Insets?>
<?import javafx.scene.control.Button?>
<?import javafx.scene.control.Label?>
<?import javafx.scene.control.ScrollPane?>
<?import javafx.scene.layout.AnchorPane?>
<?import javafx.scene.layout.HBox?>
<?import javafx.scene.layout.VBox?>
<?import javafx.scene.shape.Circle?>

<AnchorPane prefHeight="700" prefWidth="900" styleClass="dark-background" 
            xmlns="http://javafx.com/javafx/17" 
            xmlns:fx="http://javafx.com/fxml/1" 
            fx:controller="gamer_hub.controllers.ProfileController">
   
   <!-- ÐšÐ½Ð¾Ð¿ÐºÐ° Ð·Ð°ÐºÑ€Ñ‹Ñ‚Ð¸Ñ -->
   <Button text="âœ•" styleClass="secondary-button" 
           onAction="#onCloseClick" 
           AnchorPane.topAnchor="10" AnchorPane.rightAnchor="10"
           style="-fx-font-size: 16px; -fx-padding: 5 10; -fx-min-width: 40; -fx-min-height: 40;" />
   
   <!-- ÐžÑÐ½Ð¾Ð²Ð½Ð¾Ð¹ ÐºÐ¾Ð½Ñ‚ÐµÐ½Ñ‚ -->
   <ScrollPane fitToWidth="true" styleClass="transparent" 
               AnchorPane.topAnchor="0" AnchorPane.bottomAnchor="0" 
               AnchorPane.leftAnchor="0" AnchorPane.rightAnchor="0">
      
      <VBox spacing="20" style="-fx-padding: 40;">
         
         <!-- Ð—Ð°Ð³Ð¾Ð»Ð¾Ð²Ð¾Ðº -->
         <Label text="ðŸ‘¤ ÐœÐ¾Ð¹ Ð¿Ñ€Ð¾Ñ„Ð¸Ð»ÑŒ" styleClass="title-text" 
                style="-fx-padding: 0 0 20 0;" />
         
         <!-- ÐžÑÐ½Ð¾Ð²Ð½Ð°Ñ Ð¸Ð½Ñ„Ð¾Ñ€Ð¼Ð°Ñ†Ð¸Ñ -->
         <VBox styleClass="settings-section" spacing="15">
            <Label text="ÐžÑÐ½Ð¾Ð²Ð½Ð°Ñ Ð¸Ð½Ñ„Ð¾Ñ€Ð¼Ð°Ñ†Ð¸Ñ" styleClass="settings-section-title" />
            
            <HBox alignment="CENTER_LEFT" spacing="20">
               <!-- ÐÐ²Ð°Ñ‚Ð°Ñ€ -->
               <Circle fx:id="avatarCircle" radius="60" 
                       style="-fx-fill: #8E5915; -fx-stroke: #F4B315; -fx-stroke-width: 3;" />
               
               <VBox spacing="10">
                  <Label fx:id="usernameLabel" styleClass="title-text" 
                         style="-fx-font-size: 28px;" />
                  <Label fx:id="emailLabel" styleClass="normal-text" 
                         style="-fx-font-size: 16px;" />
                  <Label fx:id="userIdLabel" styleClass="normal-text" 
                         style="-fx-text-fill: #8E5915;" />
               </VBox>
            </HBox>
         </VBox>
         
         <!-- Ð¡Ñ‚Ð°Ñ‚Ð¸ÑÑ‚Ð¸ÐºÐ° -->
         <VBox styleClass="settings-section" spacing="15">
            <Label text="ðŸ“Š Ð¡Ñ‚Ð°Ñ‚Ð¸ÑÑ‚Ð¸ÐºÐ°" styleClass="settings-section-title" />
            
            <HBox spacing="30" alignment="CENTER">
               <VBox alignment="CENTER" spacing="5">
                  <Label fx:id="gamesCountLabel" styleClass="title-text" 
                         style="-fx-font-size: 32px; -fx-text-fill: #F4B315;" />
                  <Label text="Ð¾Ñ‚ÑÐ»ÐµÐ¶Ð¸Ð²Ð°ÐµÐ¼Ñ‹Ñ… Ð¸Ð³Ñ€" styleClass="normal-text" />
               </VBox>
               
               <VBox alignment="CENTER" spacing="5">
                  <Label fx:id="communitiesCountLabel" styleClass="title-text" 
                         style="-fx-font-size: 32px; -fx-text-fill: #E59312;" />
                  <Label text="ÑÐ¾Ð¾Ð±Ñ‰ÐµÑÑ‚Ð²" styleClass="normal-text" />
               </VBox>
               
               <VBox alignment="CENTER" spacing="5">
                  <Label fx:id="friendsCountLabel" styleClass="title-text" 
                         style="-fx-font-size: 32px; -fx-text-fill: #8E5915;" />
                  <Label text="Ð´Ñ€ÑƒÐ·ÐµÐ¹" styleClass="normal-text" />
               </VBox>
               
               <VBox alignment="CENTER" spacing="5">
                  <Label fx:id="requestsCountLabel" styleClass="title-text" 
                         style="-fx-font-size: 32px; -fx-text-fill: #4CAF50;" />
                  <Label text="Ð°ÐºÑ‚Ð¸Ð²Ð½Ñ‹Ñ… Ð°Ð½ÐºÐµÑ‚" styleClass="normal-text" />
               </VBox>
            </HBox>
         </VBox>
         
         <!-- ÐžÑ‚ÑÐ»ÐµÐ¶Ð¸Ð²Ð°ÐµÐ¼Ñ‹Ðµ Ð¸Ð³Ñ€Ñ‹ -->
         <VBox fx:id="gamesSection" styleClass="settings-section" spacing="15">
            <Label text="ðŸŽ® ÐžÑ‚ÑÐ»ÐµÐ¶Ð¸Ð²Ð°ÐµÐ¼Ñ‹Ðµ Ð¸Ð³Ñ€Ñ‹" styleClass="settings-section-title" />
            
            <VBox fx:id="gamesList" spacing="10" />
            
            <Label fx:id="noGamesLabel" text="ÐÐµÑ‚ Ð¾Ñ‚ÑÐ»ÐµÐ¶Ð¸Ð²Ð°ÐµÐ¼Ñ‹Ñ… Ð¸Ð³Ñ€" 
                   styleClass="normal-text" style="-fx-text-alignment: center; -fx-padding: 20;" 
                   visible="false" managed="false" />
         </VBox>
         
         <!-- ÐœÐ¾Ð¸ ÑÐ¾Ð¾Ð±Ñ‰ÐµÑÑ‚Ð²Ð° -->
         <VBox fx:id="communitiesSection" styleClass="settings-section" spacing="15">
            <Label text="ðŸ‘¥ ÐœÐ¾Ð¸ ÑÐ¾Ð¾Ð±Ñ‰ÐµÑÑ‚Ð²Ð°" styleClass="settings-section-title" />
            
            <VBox fx:id="communitiesList" spacing="10" />
            
            <Label fx:id="noCommunitiesLabel" text="ÐÐµÑ‚ ÑÐ¾Ð¾Ð±Ñ‰ÐµÑÑ‚Ð²" 
                   styleClass="normal-text" style="-fx-text-alignment: center; -fx-padding: 20;" 
                   visible="false" managed="false" />
         </VBox>
         
         <!-- ÐœÐ¾Ð¸ Ð´Ñ€ÑƒÐ·ÑŒÑ -->
         <VBox fx:id="friendsSection" styleClass="settings-section" spacing="15">
            <Label text="ðŸ¤ ÐœÐ¾Ð¸ Ð´Ñ€ÑƒÐ·ÑŒÑ" styleClass="settings-section-title" />
            
            <VBox fx:id="friendsList" spacing="10" />
            
            <Label fx:id="noFriendsLabel" text="ÐÐµÑ‚ Ð´Ñ€ÑƒÐ·ÐµÐ¹" 
                   styleClass="normal-text" style="-fx-text-alignment: center; -fx-padding: 20;" 
                   visible="false" managed="false" />
         </VBox>
         
         <!-- Ð¡Ð¸ÑÑ‚ÐµÐ¼Ð½Ð°Ñ Ð¸Ð½Ñ„Ð¾Ñ€Ð¼Ð°Ñ†Ð¸Ñ -->
         <VBox styleClass="settings-section" spacing="15">
            <Label text="âš™ï¸ Ð¡Ð¸ÑÑ‚ÐµÐ¼Ð½Ð°Ñ Ð¸Ð½Ñ„Ð¾Ñ€Ð¼Ð°Ñ†Ð¸Ñ" styleClass="settings-section-title" />
            
            <HBox spacing="15" alignment="CENTER_LEFT">
               <Label text="Ð”Ð°Ñ‚Ð° Ñ€ÐµÐ³Ð¸ÑÑ‚Ñ€Ð°Ñ†Ð¸Ð¸:" styleClass="normal-text" 
                      style="-fx-min-width: 150;" />
               <Label fx:id="registrationDateLabel" text="ÐÐµÑ‚ Ð´Ð°Ð½Ð½Ñ‹Ñ…" 
                      styleClass="normal-text" style="-fx-text-fill: #8E5915;" />
            </HBox>
            
            <HBox spacing="15" alignment="CENTER_LEFT">
               <Label text="Ð’ÐµÑ€ÑÐ¸Ñ Ð¿Ñ€Ð¸Ð»Ð¾Ð¶ÐµÐ½Ð¸Ñ:" styleClass="normal-text" 
                      style="-fx-min-width: 150;" />
               <Label text="Gamer Hub v1.0" styleClass="normal-text" 
                      style="-fx-text-fill: #8E5915;" />
            </HBox>
            
            <HBox spacing="15" alignment="CENTER_LEFT">
               <Label text="ID Ð¿Ð¾Ð»ÑŒÐ·Ð¾Ð²Ð°Ñ‚ÐµÐ»Ñ:" styleClass="normal-text" 
                      style="-fx-min-width: 150;" />
               <Label fx:id="userUniqueIdLabel" styleClass="normal-text" 
                      style="-fx-text-fill: #8E5915;" />
            </HBox>
         </VBox>
         
         <!-- ÐšÐ½Ð¾Ð¿ÐºÐ¸ Ð´ÐµÐ¹ÑÑ‚Ð²Ð¸Ð¹ -->
         <HBox spacing="20" alignment="CENTER" style="-fx-padding: 20 0 0 0;">
            <Button text="âœï¸ Ð ÐµÐ´Ð°ÐºÑ‚Ð¸Ñ€Ð¾Ð²Ð°Ñ‚ÑŒ Ð¿Ñ€Ð¾Ñ„Ð¸Ð»ÑŒ" styleClass="primary-button" 
                    onAction="#onEditProfileClick" 
                    style="-fx-pref-width: 200;" />
            
            <Button text="ðŸ”„ ÐžÐ±Ð½Ð¾Ð²Ð¸Ñ‚ÑŒ Ð´Ð°Ð½Ð½Ñ‹Ðµ" styleClass="secondary-button" 
                    onAction="#onRefreshClick" 
                    style="-fx-pref-width: 150;" />
            
            <Button text="ðŸ“¤ Ð­ÐºÑÐ¿Ð¾Ñ€Ñ‚ Ð´Ð°Ð½Ð½Ñ‹Ñ…" styleClass="secondary-button" 
                    onAction="#onExportClick" 
                    style="-fx-pref-width: 150;" />
         </HBox>
         
         <!-- Ð¤ÑƒÑ‚ÐµÑ€ -->
         <HBox alignment="CENTER" spacing="10" styleClass="panel-background" 
               style="-fx-padding: 15; -fx-background-radius: 10;">
            <Label text="ÐŸÑ€Ð¾Ñ„Ð¸Ð»ÑŒ Ð¿Ð¾Ð»ÑŒÐ·Ð¾Ð²Ð°Ñ‚ÐµÐ»Ñ" styleClass="normal-text" />
            <Label text="|" styleClass="normal-text" />
            <Label fx:id="lastUpdatedLabel" text="" styleClass="normal-text" 
                   style="-fx-text-fill: #8E5915;" />
         </HBox>
      </VBox>
   </ScrollPane>
</AnchorPane>