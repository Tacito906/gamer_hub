<?xml version="1.0" encoding="UTF-8"?>

<?import javafx.geometry.Insets?>
<?import javafx.scene.control.Button?>
<?import javafx.scene.control.Label?>
<?import javafx.scene.control.ScrollPane?>
<?import javafx.scene.control.TextField?>
<?import javafx.scene.layout.AnchorPane?>
<?import javafx.scene.layout.HBox?>
<?import javafx.scene.layout.VBox?>

<AnchorPane prefHeight="700" prefWidth="900" styleClass="dark-background" 
            xmlns="http://javafx.com/javafx/17" 
            xmlns:fx="http://javafx.com/fxml/1" 
            fx:controller="gamer_hub.controllers.FriendsController">
   
   <!-- ÐšÐ½Ð¾Ð¿ÐºÐ° Ð·Ð°ÐºÑ€Ñ‹Ñ‚Ð¸Ñ -->
   <Button text="âœ•" styleClass="secondary-button" 
           onAction="#onCloseClick" 
           AnchorPane.topAnchor="10" AnchorPane.rightAnchor="10"
           style="-fx-font-size: 16px; -fx-padding: 5 10; -fx-min-width: 40; -fx-min-height: 40;" />
   
   <!-- ÐžÑÐ½Ð¾Ð²Ð½Ð¾Ð¹ ÐºÐ¾Ð½Ñ‚ÐµÐ½Ñ‚ -->
   <VBox spacing="20" style="-fx-padding: 30;"
         AnchorPane.topAnchor="0" AnchorPane.bottomAnchor="0" 
         AnchorPane.leftAnchor="0" AnchorPane.rightAnchor="0">
      
      <!-- Ð—Ð°Ð³Ð¾Ð»Ð¾Ð²Ð¾Ðº -->
      <Label text="ðŸ¤ ÐœÐ¾Ð¸ Ð´Ñ€ÑƒÐ·ÑŒÑ" styleClass="title-text" />
      
      <!-- ÐŸÐ°Ð½ÐµÐ»ÑŒ ÑƒÐ¿Ñ€Ð°Ð²Ð»ÐµÐ½Ð¸Ñ -->
      <HBox spacing="15" alignment="CENTER_LEFT" 
            styleClass="panel-background" style="-fx-padding: 15;">
         <Label text="ÐŸÐ¾Ð¸ÑÐº Ð´Ñ€ÑƒÐ·ÐµÐ¹:" styleClass="normal-text" />
         <TextField fx:id="searchField" promptText="Ð’Ð²ÐµÐ´Ð¸Ñ‚Ðµ Ð¸Ð¼Ñ Ð¿Ð¾Ð»ÑŒÐ·Ð¾Ð²Ð°Ñ‚ÐµÐ»Ñ..." 
                    styleClass="input-field" style="-fx-pref-width: 300;" />
         <Button text="ðŸ” ÐŸÐ¾Ð¸ÑÐº" styleClass="secondary-button" 
                 onAction="#onSearchClick" />
         <HBox HBox.hgrow="ALWAYS" />
         <Button text="ðŸ”„ ÐžÐ±Ð½Ð¾Ð²Ð¸Ñ‚ÑŒ" styleClass="secondary-button" 
                 onAction="#onRefreshClick" />
         <Button text="ðŸ“Š Ð¡Ñ‚Ð°Ñ‚Ð¸ÑÑ‚Ð¸ÐºÐ°" styleClass="secondary-button" 
                 onAction="#onStatsClick" />
      </HBox>
      
      <!-- Ð¡Ñ‚Ð°Ñ‚Ð¸ÑÑ‚Ð¸ÐºÐ° -->
      <VBox fx:id="statsSection" styleClass="panel-background" spacing="10" 
            visible="false" managed="false">
         <HBox spacing="20" alignment="CENTER">
            <VBox alignment="CENTER" spacing="5">
               <Label fx:id="totalFriendsLabel" text="0" 
                      styleClass="title-text" style="-fx-font-size: 28px; -fx-text-fill: #F4B315;" />
               <Label text="Ð²ÑÐµÐ³Ð¾ Ð´Ñ€ÑƒÐ·ÐµÐ¹" styleClass="normal-text" />
            </VBox>
            <VBox alignment="CENTER" spacing="5">
               <Label fx:id="onlineFriendsLabel" text="0" 
                      styleClass="title-text" style="-fx-font-size: 28px; -fx-text-fill: #4CAF50;" />
               <Label text="Ð¾Ð½Ð»Ð°Ð¹Ð½ ÑÐµÐ¹Ñ‡Ð°Ñ" styleClass="normal-text" />
            </VBox>
            <VBox alignment="CENTER" spacing="5">
               <Label fx:id="activeFriendsLabel" text="0" 
                      styleClass="title-text" style="-fx-font-size: 28px; -fx-text-fill: #E59312;" />
               <Label text="Ð°ÐºÑ‚Ð¸Ð²Ð½Ñ‹Ñ… Ð·Ð° Ð½ÐµÐ´ÐµÐ»ÑŽ" styleClass="normal-text" />
            </VBox>
            <VBox alignment="CENTER" spacing="5">
               <Label fx:id="mutualGamesLabel" text="0" 
                      styleClass="title-text" style="-fx-font-size: 28px; -fx-text-fill: #8E5915;" />
               <Label text="Ð¾Ð±Ñ‰Ð¸Ñ… Ð¸Ð³Ñ€" styleClass="normal-text" />
            </VBox>
         </HBox>
      </VBox>
      
      <!-- ÐšÐ°Ñ€Ñ‚Ð¾Ñ‡ÐºÐ° Ð´Ñ€ÑƒÐ³Ð° (Ð¨ÐÐ‘Ð›ÐžÐ - ÑÐºÑ€Ñ‹Ñ‚Ð°) -->
      <VBox fx:id="friendTemplate" visible="false" managed="false">
         <HBox spacing="15" style="-fx-background-color: #423738; -fx-background-radius: 10; 
                -fx-border-color: #8E5915; -fx-border-radius: 10; -fx-border-width: 1; 
                -fx-padding: 15;" prefWidth="800">
            
            <!-- ÐÐ²Ð°Ñ‚Ð°Ñ€ -->
            <VBox alignment="CENTER" spacing="5">
               <Label fx:id="friendAvatar" text="ðŸ‘¤" style="-fx-font-size: 32px;" />
               <Label fx:id="friendStatus" text="â— Ð¾Ð½Ð»Ð°Ð¹Ð½" style="-fx-font-size: 10px; -fx-text-fill: #4CAF50;" />
            </VBox>
            
            <!-- Ð˜Ð½Ñ„Ð¾Ñ€Ð¼Ð°Ñ†Ð¸Ñ -->
            <VBox spacing="8" style="-fx-pref-width: 400;">
               <Label fx:id="friendUsername" text="Username" 
                      style="-fx-font-size: 16px; -fx-font-weight: bold; -fx-text-fill: #D3AF85;" />
               <Label fx:id="friendEmail" text="email@example.com" 
                      style="-fx-font-size: 13px; -fx-text-fill: #8E5915;" />
               
               <VBox spacing="3">
                  <Label fx:id="friendGamesStat" text="ðŸŽ® Ð˜Ð³Ñ€: 0" 
                         style="-fx-font-size: 12px; -fx-text-fill: #8E5915;" />
                  <Label fx:id="friendCommunitiesStat" text="ðŸ‘¥ Ð¡Ð¾Ð¾Ð±Ñ‰ÐµÑÑ‚Ð²: 0" 
                         style="-fx-font-size: 12px; -fx-text-fill: #8E5915;" />
                  <Label fx:id="friendMutualGamesStat" text="ðŸ”„ ÐžÐ±Ñ‰Ð¸Ñ… Ð¸Ð³Ñ€: 0" 
                         style="-fx-font-size: 12px; -fx-text-fill: #F4B315;" />
               </VBox>
            </VBox>
            
            <!-- ÐšÐ½Ð¾Ð¿ÐºÐ¸ Ð´ÐµÐ¹ÑÑ‚Ð²Ð¸Ð¹ -->
            <VBox spacing="10" alignment="CENTER_RIGHT" style="-fx-min-width: 150;">
               <Button fx:id="messageButton" text="ðŸ’¬ ÐÐ°Ð¿Ð¸ÑÐ°Ñ‚ÑŒ" 
                       style="-fx-background-color: #8E5915; -fx-text-fill: #1A141A; 
                              -fx-background-radius: 5; -fx-padding: 8 15; -fx-font-size: 12px; 
                              -fx-font-weight: bold; -fx-cursor: hand; -fx-pref-width: 120;" />
               
               <Button fx:id="profileButton" text="ðŸ‘ï¸ ÐŸÑ€Ð¾Ñ„Ð¸Ð»ÑŒ" 
                       style="-fx-background-color: #E59312; -fx-text-fill: #1A141A; 
                              -fx-background-radius: 5; -fx-padding: 8 15; -fx-font-size: 12px; 
                              -fx-font-weight: bold; -fx-cursor: hand; -fx-pref-width: 120;" />
               
               <Button fx:id="removeButton" text="âŒ Ð£Ð´Ð°Ð»Ð¸Ñ‚ÑŒ" 
                       style="-fx-background-color: #FF6B6B; -fx-text-fill: #1A141A; 
                              -fx-background-radius: 5; -fx-padding: 8 15; -fx-font-size: 12px; 
                              -fx-font-weight: bold; -fx-cursor: hand; -fx-pref-width: 120;" />
            </VBox>
         </HBox>
      </VBox>
      
      <!-- Ð¡Ð¿Ð¸ÑÐ¾Ðº Ð´Ñ€ÑƒÐ·ÐµÐ¹ -->
      <ScrollPane fitToWidth="true" styleClass="transparent" 
                  style="-fx-background-color: transparent; -fx-padding: 0;">
         
         <VBox fx:id="friendsList" spacing="10" 
               style="-fx-padding: 10;">
            <!-- Ð”Ñ€ÑƒÐ·ÑŒÑ Ð±ÑƒÐ´ÑƒÑ‚ Ð´Ð¾Ð±Ð°Ð²Ð»ÑÑ‚ÑŒÑÑ Ð´Ð¸Ð½Ð°Ð¼Ð¸Ñ‡ÐµÑÐºÐ¸ -->
         </VBox>
      </ScrollPane>
      
      <!-- Ð¡Ð¾Ð¾Ð±Ñ‰ÐµÐ½Ð¸Ðµ, ÐµÑÐ»Ð¸ Ð½ÐµÑ‚ Ð´Ñ€ÑƒÐ·ÐµÐ¹ -->
      <VBox fx:id="noFriendsMessage" alignment="CENTER" spacing="20" 
            styleClass="panel-background" style="-fx-padding: 50 20;" 
            visible="false" managed="false">
         <Label text="ðŸ‘¥" style="-fx-font-size: 48px;" />
         <Label text="Ð£ Ð²Ð°Ñ Ð¿Ð¾ÐºÐ° Ð½ÐµÑ‚ Ð´Ñ€ÑƒÐ·ÐµÐ¹" styleClass="subtitle-text" />
         <Label text="Ð”Ð¾Ð±Ð°Ð²ÑŒÑ‚Ðµ Ð´Ñ€ÑƒÐ·ÐµÐ¹, Ñ‡Ñ‚Ð¾Ð±Ñ‹ Ð²Ð¸Ð´ÐµÑ‚ÑŒ Ð¸Ñ… Ð°ÐºÑ‚Ð¸Ð²Ð½Ð¾ÑÑ‚ÑŒ Ð¸ ÑÐ¾Ð²Ð¼ÐµÑÑ‚Ð½Ñ‹Ðµ Ð¸Ð³Ñ€Ñ‹" 
                styleClass="normal-text" style="-fx-text-alignment: center; -fx-max-width: 400;" />
         <Button text="ÐÐ°Ð¹Ñ‚Ð¸ Ð´Ñ€ÑƒÐ·ÐµÐ¹" styleClass="primary-button" 
                 onAction="#onFindFriendsClick" />
      </VBox>
      
      <!-- Ð˜Ð½Ñ„Ð¾Ñ€Ð¼Ð°Ñ†Ð¸Ð¾Ð½Ð½Ð°Ñ Ð¿Ð°Ð½ÐµÐ»ÑŒ -->
      <HBox alignment="CENTER" spacing="10" styleClass="panel-background" 
            style="-fx-padding: 15; -fx-background-radius: 10;">
         <Label fx:id="infoLabel" text="Ð—Ð°Ð³Ñ€ÑƒÐ¶ÐµÐ½Ð¾ Ð´Ñ€ÑƒÐ·ÐµÐ¹: 0" styleClass="normal-text" />
         <Label text="|" styleClass="normal-text" />
         <Label text="ÐœÐ¾Ð¸ Ð´Ñ€ÑƒÐ·ÑŒÑ" styleClass="normal-text" />
         <Label text="|" styleClass="normal-text" />
         <Label text="Gamer Hub" styleClass="normal-text" />
      </HBox>
   </VBox>
</AnchorPane>